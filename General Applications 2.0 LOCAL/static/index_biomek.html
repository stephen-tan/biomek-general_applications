<html>

<!-- This is the HTML page that makes up the pop-up dialog box.  There is a JavaScript
      function, SetVariable(), inside the head of the HTML page.  I have learned to
      appreciate that Visual Basic programming is a dying skill.  So I have decided to handle
      the logic of figuring out which radio button is pressed and returning the button's value
      to the Biomek software using JavaScript.
      -->

<head>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <script src='assets/bootstrap/js/bootstrap.min.js'></script>
    <script language=JScript>

        //  Create a function that sets the variable to the selected value for that element
        function SetVariable() {

            var eSourceType = document.getElementById("sourceType");
            var strSourceType = eSourceType.value;

            var eDestinationType = document.getElementById("destinationType");
            var strDestinationType = eDestinationType.value;

            var eTipType = document.getElementById("tipType");
            var strTipType = eTipType.value;

            var eNumStamps = document.getElementById("numStamps");
            var strNumStamps = eNumStamps.value;

            var eTransferVolume = document.getElementById("transferVolume");
            var strTransferVolume = eTransferVolume.value;

        }
    </script>
</head>

<body>
    <h3>Select Your Parameters</h3><br>

    <!-- Create an HTML form, which is necessary to (1) use JavaScript and (2) to make the pop-up window disappear
  when it is clicked by the user -->

    <form>

        <!-- Radio buttons are named after the buttons in your car radio.  Go figure!  When
            one is selected, the others are unselected.  To make this happen in HTML you have
            to configure the buttons so that they have the same name property, in this case
            "radYeaNay."  The id property allows the JavaScript function SetVariable() to access
            the properties of the radio buttons by the getElementById() function.  The onClick
            property calls the SetVariable() function each time that a button is clicked.  The
            BFXName property is the way that the Biomek FX knows what values come back
            from the HTML page: it is the name of the key that  is associated with the value.  The
            value property is the value part of the key-value pair that gets sent back to the
            Biomek software.  The property "checked" indicates that button is selected at the
            opening of the pop-up dialog.  I had hoped that by making the BFXName identical
            that only the value of the button that was clicked would get returned to the Biomek
            software.  No such luck.  The problem was that the BFXName key would get the
            value of whatever button was last on the list.  Then I tried various ways of making
            the BFXName look like a part of an array.  Still no luck.  Finally I changed the code to
            use JavaScript and Volatile variables
            -->

        <!-- <input type="radio" name="radYeaNay" id="sourceType" onClick="SetVariable()" BFXName=strYesNo[] value="Yes"
      checked>Yes<br>
    <input type="radio" name="radYeaNay" id="radNo" onClick="SetVariable()" BFXName=strYesNo[] value="No">No<br> -->

        <label id="sourceType" onClick="SetVariable()"> Source Plate Type:
            <Select Name="sourceType" BFXNAME="Let.sourceType" id=dropdown>
                <Option selected value="Deep96C">96 Corning Deep Well 2.0mL</Option>
                <Option value="PCR96">96 BioRad PCR Skirted 200uL</Option>
                <Option value="PCR96_rack">96 VWR PCR No-Skirt on Adapter 200uL</Option>
                <Option value="Nunc_96round">96 (Qpix) Nunc Shallow Well 300uL</Option>
                <Option value="BlackClearBottom96Flat">96 Corning Black/Clear Flat Bottom 300uL</Option>
            </Select>
            <br><br>
        </label>

        <label id="destinationType" onClick="SetVariable()"> Destination Plate Type:
            <Select Name="destinationType" BFXNAME="Let.destinationType" id=dropdown>
                <Option selected value="Deep96C">96 Corning Deep Well 2.0mL</Option>
                <Option value="PCR96">96 BioRad PCR Skirted 200uL</Option>
                <Option value="PCR96_rack">96 VWR PCR No-Skirt on Adapter 200uL </Option>
                <Option value="Nunc_96round">96 (Qpix) Nunc Shallow Well 300uL</Option>
                <Option value="BlackClearBottom96Flat">96 Corning Black/Clear Flat Bottom 300uL</Option>
            </Select>
            <br><br>
        </label>

        <label id="tipType" onClick="SetVariable()"> Tip Type:
            <Select Name="tipType" BFXNAME="Let.tipType" id=dropdown>
                <Option value="f200">f200</Option>
                <Option selected value="s200">s200</Option>
            </Select>
            <br><br>
        </label>

        <label id="numStamps" onClick="SetVariable()"> Number of Unique Stamps:
            <Select Name="numStamps" BFXNAME="Let.numStamps" id=dropdown>
                <Option selected value="1">1</Option>
                <Option value="2">2</Option>
                <Option value="3">3</Option>
                <Option value="4">4</Option>
                <Option value="5">5</Option>
            </Select>
            <br><br>
        </label>

        <label id="transferVolume" onClick="SetVariable()">Transfer Volume (uL):
            <input type=text style="text-align:center;" id="transferVolume" NAME="transferVolume" min="0" max="2000"
                value="0" BFXNAME="Let.transferVolume" SIZE=4>&nbsp;
            <font size="2">&nbsp;<a id="transferVolumeInfo"></a></font>
            </Input>
            <br><br>
        </label>

        <!-- I had hoped to use a hidden element to send the information about which button
            was clicked back to the Biomek software.  It didn't work.  I used JavaScript to
            change the hidden element's value, but the Biomek software was only sent the
            default value of "Aargh!"  Removing the default value, or setting it to "", or null, did
            not help.
            -->

        <!-- <input type="hidden" name=txtNoSeeUm id=txtHola BFXName=strNoSeeUm value="Aargh!"><br> -->

        <!-- The submit button can also get a BFXName property.  I had hoped to use that
            to allow the Biomek software to know which button was pressed.  Unfortunately, the
            Biomek software gets every BFXName key-value pair, not just the ones that are
            clicked.
            -->

        <input type="submit" onClick="SetVariable()" BFXname=submit value="submit">
    </form>
</body>